<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8"/>
    <link rel="icon" type="image/x-icon" href="./assets/favicon.a0f5bb8c.ico"/>
    <!--    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>-->
    <title>WebGAL</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" />
  <script type="module" crossorigin src="./assets/index.2a847319.js"></script>
  <link rel="stylesheet" href="./assets/index.c78a1f2b.css">
</head>
<body>
<!--Âø´ÈÄüÊòæÁ§∫ËêΩÂú∞È°µÔºåËÆ©Áî®Êà∑ÊÑüÁü•‰∏çÂà∞Âä†ËΩΩÁöÑËøáÁ®ã-->
<div id="Title_enter_page" onclick="enter()" style="
            width: 2560px;
            height: 1440px;
            overflow: hidden;
            position: absolute;
            top: 0;
            z-index: 14;
            opacity: 1;
            transition: opacity 1.5s;
">
    <!--    ËêΩÂú∞È°µËÉåÊôØ-->
    <div id="Title_bg_container" style="
    height: 100%;
    width: 100%;
    position: absolute;
    background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
    top: 0;
    opacity: 1;
    transition: opacity 1s;
"></div>
    <!--    ÁÇπÂáªÂêéÁöÑÁôΩËâ≤Ê∏êÂèò-->
    <div id="Title_white_container" style="
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    opacity: 0;
    background: linear-gradient(165deg,rgba(255,255,255,0.25) 0%,rgba(255,255,255,1) 50%,rgba(255,255,255,0.25) 100%);
    transition: opacity 1s;
"></div>
    <!--    ËêΩÂú∞È°µÊñáÂ≠ó-->
    <div id="Title_enter_text" style="width: 100%;
    position: absolute;
    top: 0;
    height: 100%;
    opacity: 1;
    font-size: 175%;
    transition: opacity 1s;
    z-index: 15;
    font-family: 'ÊÄùÊ∫êÂÆã‰Ωì',Georgia,serif">
        <div class="toCenter" style="
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
">
            <div class="StartButton" style="
            letter-spacing: 0.25em ;
            padding: 2em 2em 2em 2em;
            text-shadow: 0 0 30px rgba(0,0,0,0.5);
            transition: text-shadow 1s;
            font-size: 175%;
">
                ÁÇπÂáª‰ªªÊÑè‰ΩçÁΩÆÂºÄÂßãÊ∏∏Êàè
            </div>
        </div>
        <div
            style="position: absolute;
        bottom: 1em;
        display: flex;
        justify-content: center;
        width: 100%;
        flex-flow: column;
        align-items: center ">
            <div style="padding: 0 0 0.25em 0">
                <!-- Powered by <a href="https://github.com/MakinoharaShoko/WebGAL" onclick="jump('https://github.com/MakinoharaShoko/WebGAL')">WebGAL</a> Framework -->
            </div>
            <div>
                Made with ‚ù§ by <a>Â∞èÂ∏Ö‰∏çÂêÉü•ï</a>
            </div>
        </div>
    </div>
</div>
<div id="root"></div>

<script>
  /**
   * Ê≥®ÂÜå Service Worker
   */
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker
    .register('./webgal-serviceworker.js', { scope: './assets' })
    .then(function (reg) {
      // registration worked
      console.log('Registration succeeded. Scope is ' + reg.scope);
    })
    .catch(function (error) {
      // registration failed
      console.log('Registration failed with ' + error);
    });
  }
</script>
<script>
    let enterPromise=new Promise(res=>window.enterPromise=res)
    let renderPromise=new Promise(res=>window.renderPromise=res)
       /**
         * Â∞ÜÊí≠ÊîæbgmÁöÑ‰∫ã‰ª∂ÂèëÈÄÅÂá∫Âéª
         */
    Promise.all([enterPromise,renderPromise])
    .then(()=>{
        const event = new MouseEvent('click', {
            'view': window,
            'bubbles': true,
            'cancelable': true,
        });
        const target = document.getElementById('enter_game_target');
        if (target !== null) {
            target.dispatchEvent(event);
        }
    })
    // ÊøÄÊ¥ªÂº∫Âà∂Áº©Êîæ
    // Âú®Ë∞ÉÊï¥Á™óÂè£Â§ßÂ∞èÊó∂ÈáçÊñ∞ËÆ°ÁÆóÂÆΩÈ´òÔºåËÆæËÆ°Á®øÊåâÁÖß 1600*900„ÄÇ
    setTimeout(resizeTitle, 100);
    resizeTitle();
    //Âà§Êñ≠ÊòØË∑≥ËΩ¨Êìç‰ΩúËøòÊòØenterÊìç‰Ωú
    let tryToEnter=true;
    window.onresize = resizeTitle;
    // ÁõëÂê¨ÈîÆÁõò F11 ‰∫ã‰ª∂ÔºåÂÖ®Â±èÊó∂Ëß¶ÂèëÈ°µÈù¢Ë∞ÉÊï¥
    document.onkeydown = function (event) {
        const e = event;
        if (e && e.keyCode === 122) {
            setTimeout(() => {
                resizeTitle();
            }, 100);
        }
    };
     function jump(url){
         tryToEnter=false;
         window.location=url;
     }
    /**
     * ÁÇπÂáªÂ±èÂπïÔºåËøõÂÖ•ÂºïÊìé‰∏ªÁïåÈù¢
     */
    function enter() {
        if(!tryToEnter) return;
        document.getElementById('Title_bg_container').style.opacity = '0'; // Ë∞ÉÊï¥Ê†áÈ¢òËÉåÊôØÁöÑÈÄèÊòéÂ∫¶
        document.getElementById('Title_enter_text').style.opacity = '0'; // Ë∞ÉÊï¥Ê†áÈ¢òÊñáÂ≠óÁöÑÈÄèÊòéÂ∫¶
        setTimeout(() => document.getElementById('Title_white_container').style.opacity = '1', 50); // Âú®50msÂêéÂºÄÂßãÊòæÁ§∫ÁôΩËâ≤Ê∏êÂèò
        const title = document.getElementById('Title_enter_page');
        setTimeout(() => title.style.opacity = '0', 500); //500msÂêéÂºÄÂßãÈôç‰ΩéËêΩÂú∞È°µÈÄèÊòéÂ∫¶
        title.style.pointerEvents = 'none'; //ËêΩÂú∞È°µ‰∏çÂÜçÂìçÂ∫îÁÇπÂáª
        title.style.background = 'linear-gradient( #a1c4fd 0%, #c2e9fb 100%)'; //ÊîπÂèòÊ†áÈ¢òÊ∏êÂèòÊïàÊûú
        setTimeout(() => title.style.display = 'none', 2000) // Â∞ÜËêΩÂú∞È°µËÆæÁΩÆ‰∏∫‰∏çÊòæÁ§∫
        window.enterPromise()
        delete window.enterPromise
    }

    /**
     * ÂØπÊ†áÈ¢òÈ°µËøõË°åËá™Âä®Âº∫Âà∂Áº©Êîæ
     */
    function resizeTitle() {
        const targetHeight = 1440;
        const targetWidth = 2560;

        const h = window.innerHeight; // Á™óÂè£È´òÂ∫¶
        const w = window.innerWidth; // Á™óÂè£ÂÆΩÂ∫¶
        const zoomH = h / targetHeight; // ‰ª•Á™óÂè£È´òÂ∫¶‰∏∫Âü∫ÂáÜÁöÑÂèòÊç¢ÊØî
        const zoomW = w / targetWidth; // ‰ª•Á™óÂè£ÂÆΩÂ∫¶‰∏∫Âü∫ÂáÜÁöÑÂèòÊç¢ÊØî
        const zoomH2 = w / targetHeight; // Á´ñÂ±èÊó∂‰ª•Á™óÂè£È´òÂ∫¶‰∏∫Âü∫Á°ÄÁöÑÂèòÊç¢ÊØî
        const zoomW2 = h / targetWidth; // Á´ñÂ±èÊó∂‰ª•Á™óÂè£ÂÆΩÂ∫¶‰∏∫Âü∫Á°ÄÁöÑÂèòÊç¢ÊØî
        let mh = (targetHeight - h) / 2; // yËΩ¥ÁßªÂä®Ë∑ùÁ¶ª
        let mw = (targetWidth - w) / 2; // xËΩ¥ÁßªÂä®Ë∑ùÁ¶ª
        let mh2os = targetWidth / 2 - w / 2; // Á´ñÂ±èÊó∂ yËΩ¥ÁßªÂä®Ë∑ùÁ¶ª
        let mw2os = targetHeight / 2 - h / 2; // Á´ñÂ±èÊó∂ xËΩ¥ÁßªÂä®Ë∑ùÁ¶ª
        const root = document.getElementById('Title_enter_page'); // Ëé∑ÂèñÊ†πÂÖÉÁ¥†
        if (root) {
            if (w > h) {
                mw = -mw;
                mh = -mh;
                if (w * (9 / 16) >= h) {
                    root.style.transform = `translate(${mw}px, ${mh}px) scale(${zoomH},${zoomH})`;
                }
                if (w * (9 / 16) < h) {
                    root.style.transform = `translate(${mw}px, ${mh}px) scale(${zoomW},${zoomW})`;
                }
            } else {
                mw2os = -mw2os;
                if (h * (9 / 16) >= w) {
                    root.style.transform = `rotate(90deg) translate(${mw2os}px, ${mh2os}px) scale(${zoomH2},${zoomH2})`;
                }
                if (h * (9 / 16) < w) {
                    root.style.transform = `rotate(90deg) translate(${mw2os}px, ${mh2os}px) scale(${zoomW2},${zoomW2})`;
                }
            }
        }
    }
</script>
</body>
</html>
